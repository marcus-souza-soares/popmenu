<% content_for :title, "Showing menu" %>

<div class="md:w-2/3 w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <h1 class="font-bold text-4xl"><%= @menu.name %></h1>
  <p class="text-gray-600 mb-4">Restaurant: <%= @restaurant.name %></p>

  <%= render @menu %>

  <div class="mt-6">
    <h2 class="font-bold text-2xl mb-3">Menu Items</h2>
    <% if @menu.menu_items.any? %>
      <div class="space-y-2">
        <% @menu.menu_items.each do |menu_item| %>
          <div class="p-4 bg-gray-50 rounded-md flex justify-between items-center">
            <div>
              <strong><%= menu_item.name %></strong>
              <span class="text-gray-600 ml-2">$<%= '%.2f' % (menu_item.price_in_cents / 100.0) %></span>
            </div>
            <%= button_to "Remove", restaurant_menu_menu_item_path(@restaurant, @menu, menu_item), method: :delete, class: "text-sm rounded-md px-2 py-1 text-white bg-red-600 hover:bg-red-500 font-medium cursor-pointer", data: { turbo_confirm: "Remove this item from the menu?" } %>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-gray-500">No menu items yet.</p>
    <% end %>
    <%= link_to "Add Menu Item", restaurant_menu_menu_items_path(@restaurant, @menu), class: "mt-3 rounded-md px-3.5 py-2.5 bg-green-600 hover:bg-green-500 text-white inline-block font-medium" %>
  </div>

  <div class="mt-6">
    <%= link_to "Edit this menu", edit_restaurant_menu_path(@restaurant, @menu), class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
    <%= link_to "Back to menus", restaurant_menus_path(@restaurant), class: "w-full sm:w-auto text-center mt-2 sm:mt-0 sm:ml-2 rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
    <%= button_to "Destroy this menu", restaurant_menu_path(@restaurant, @menu), method: :delete, form_class: "sm:inline-block mt-2 sm:mt-0 sm:ml-2", class: "w-full rounded-md px-3.5 py-2.5 text-white bg-red-600 hover:bg-red-500 font-medium cursor-pointer", data: { turbo_confirm: "Are you sure?" } %>
  </div>
</div>
